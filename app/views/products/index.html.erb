<p id="notice"><%= notice %></p>

<div class="col-12 d-flex justify-content-between">
  <div><h1>Products</h1></div> 
  <div><%= link_to 'Nuevo Producto', new_product_path, class: "btn btn-primary" %></div>
</div>


<table class="table">
  <thead>
    <tr>
      <th colspan="3"></th>
    </tr>
  </thead>

  <tbody>
      <thead>
        <tr>
          <th>Name</th>
          <th>Price</th>
          <th>Categories</th>
        </tr>
      </thead>
    <% @products.each do |product| %>
      <tr>
        <td><%= product.name %></td>
        <td><%= product.price %></td>
        <td>
        <% if product.categories.length > 0 %>
          <% count = 0 %>
          <% while product.categories.length != count %>
            <p><%= product.categories[count].name %> </p>
            <% count = count + 1 %>
          <% end %>
        </td>
        <% else %>
        <% end %>
        <td><%= link_to 'Show', product, class: "badge badge-pill badge-success" %></td>
        <td><%= link_to 'Edit', edit_product_path(product), class: "badge badge-pill badge-warning" %></td>
        <td><%= link_to 'Destroy', @product, method: :delete, data: { confirm: 'Are you sure?' }, class: "badge badge-pill badge-danger" %></td>
      </tr>
    <% end %>
  </tbody>
</table>
